---
title: "About reproducibility"
author: "inSileco Team"
output:
  xaringan::moon_reader:
    css: [default, rd.css, rd-font.css, "hygge"]
    lib_dir: assets
    seal: false
    nature:
      highlightStyle: dracula
      countIncrementalSlides: false
      beforeInit: "macros.js"
---


```{r setup, include = FALSE}
knitr::opts_chunk$set(
  comment = "#>",
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  dev = "png",
  dpi = 108,
  fig.width = 6,
  fig.height = 4.5,
  fig.align = 'center',
  width = 120
)
rfa <- function(...) icon::fontawesome(...)
```


class: title-slide, middle


## .font200[`r icon::fontawesome("r-project")`asters]

<br>

.instructors[
  .font180[About reproducibility]
  <br><br><br>
  .authors140[David Beauchesne & Kevin Cazelles]
  <br><br>
  `r format(Sys.time(), '%B %d, %Y')`
  <br>
  .font200[
  [`r rfa("github")`](https://github.com/inSilecoInc)
  [`r rfa("database")`](link_to_data)
  [`r rfa("file-pdf")`](link_to_pdf_version)
  ]
]

<br>
<img src="img/logoW.png" width="140px"></img>

![deploy workshop](https://github.com/inSilecoInc/workshop_reproducibility/workflows/deploy%20workshop/badge.svg)

.instructors[Content under [`r rfa("creative-commons")` `r rfa("creative-commons-by")`](https://creativecommons.org/licenses/by/4.0/) unless otherwise specified.]




---

class: inverse, center, middle

# Learning objectives

![:custom_hr]()

## .font160[`r rfa("map")`  + `r rfa("r-project")`]


---

# Learning objectives

<br>

### Understand the importance reproducible research and why R is powerful 

### Being able to create a simple R Markdown document including a reproducible analysis 



---

class: inverse, center, middle

# `r rfa("info-circle")` Reproducibility you said?

![:custom_hr]()

## Why (`r icon::fontawesome("clock")` ~ 15min)


???

Comments


---
# Reproducibility you said?


## Reproducibility

--

## Reproducibility vs. Replicability

--

## Reproducibility vs. Replicability vs. Generazability


---
# Reproducibility you said?


## Since 19990 and pioneer work of XXX 

## Terminology is not clear yet
  - [](https://arxiv.org/abs/1802.03311)
  - [R words]()

## But it's getting  

--- 
# Reproducibility you said?

<!-- INSERT SCHEME -->


--- 
# Reproducibility you said?

<!-- INSERT DEFINITIONS of 2019 report -->


---
# Why does it matter ?

Strengthen science fondation 

<!-- INSERT FIGURE -->

--- 
# Openness and Reproducibility 


---
# A technical challenge 

<!-- with definition retained we focus on 1 aspect that is technical -->

<!-- a gold standard but seveal intermediaire step -->

<!-- toward gold standard could mean a lot of techno and a lotr of time -->

<!-- INSERT citation about time -->


---
# Is R suitable for Reproducible

YES 

Ropensci

---

class: inverse, center, middle

# `r rfa("info-circle")` Reproducible workflows with R

![:custom_hr]()

## Why (`r icon::fontawesome("clock")` ~ 15min)


???

Mostly tips and structure of the R

--- 
# You are almost there 

- input data in one place and never modify them afterwards

- R scripts in one place 

well... that's a very good beginning 


---
# Create a R folder 

Create a meaningful set up 

- R/
- data/
- doc/Rmd <- articulated pipeline 

---
# Create a R folder 

Ensure that all code work from root; ensure form starts 

attached an sessionInfo()


---
# Create a R folder 

Use version comtrol 
Make your in a remote/virtual machine...

towards the gold standard, technologies are increasingly more complex 


---
# IMHO 

- make data avaialble 
- attached local repo in appendix, a zip file
- sessionInfo()

This would be just wonderful.... this would be a huge stepo. 

At the end I'll talk about breofly about a set of R packages and other techno/software that allow omne to ge further,. 


---
# Exercice 

### Description

```{r, echo = FALSE, purl = FALSE}
countdown::countdown(minutes = 15, seconds = 0)
```


---
# Resources `r rfa("link")`

### Reproducibility

- [Barba-group reproducibility syllabus](https://medium.com/hackernoon/barba-group-reproducibility-syllabus-e3757ee635cf#.h603izuwo)
- [*What does research reproducibility mean?*](https://stm.sciencemag.org/content/8/341/341ps12.full)
- [Retracted Science and the Retraction Index](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3187237/)
- [Questionable research practices in ecology and evolution](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0200303)
- [GitHUb thread](https://github.com/ReScience/ReScience-article/issues/5)



---
# Resources `r rfa("link")`

### OSF

- [COS: Strategic Plan, v2.0](https://docs.google.com/document/d/1sqz3appQ73vqa6fP1Gy8KK8HZpotoSGaiJC1XQuvREI/edit)
- [50 cancer studies](https://www.sciencemag.org/news/2018/07/plan-replicate-50-high-impact-cancer-papers-shrinks-just-18)
- [Reproducibility Project: Cancer Biology](https://elifesciences.org/collections/9b1e83d1/reproducibility-project-cancer-biology)


---
# Resources `r rfa("link")`

### Research Compendium 

- [rOpenSci](https://ropensci.org/)
- [R for Reproducible Scientific Analysis](https://swcarpentry.github.io/r-novice-gapminder/)
- [Reproducible Analysis With R](https://nceas.github.io/sasap-training/materials/reproducible_research_in_r_fairbanks/)
- [Touchdown your research with Rmarkdown](https://insileco.github.io/ResearchDown/#1)
- [Formation FRB-Cesab & GDR EcoStat (fr)](https://frbcesab.github.io/datatoolbox/index.html#1)
- [Research Compendium](https://research-compendium.science/) landing page
- [rrrpkg](https://github.com/ropensci/rrrpkg)
- [rrtools](https://github.com/benmarwick/rrtools)




---
# Quote


> we propose to ally the word reproducibility—currently the most widely used
> single term in this domain—with descriptors for the underlying construct This
> yields three terms: methods reproducibility, results reproducibility, and
> inferential reproducibility. (Goodman, 2016)
 
> The fact that an analysis is reproducible does
not guarantee the quality, correctness, or valid-
ity of the published results. (Peng, 2011)


> Unfortunately, the mere reproducibility of
Reproducibility—the ability to recompute
results—and replicability—the chances other
experimenters will achieve a consistent
result—are two foundational characteristics
of successful scientific research. (Leek and Peng 2015)

[Roger D. Peng](https://github.com/rdpeng)
 

preregistration
https://retractionwatch.com/
https://www.sciencemag.org/news/2018/10/what-massive-database-retracted-papers-reveals-about-science-publishing-s-death-penalty 
https://lorenabarba.com/

---
# Different R version different results


```R
# R 3.6
df <- data.frame(fact = rep(c("F1", "F2"), each = 5), val = runif(10))
plot(val ~ fact, data = df)   # works 
# R 4.0
df <- data.frame(fact = rep(c("F1", "F2"), each = 5), val = runif(10))
plot(val ~ fact, data = df)   # does not work
```



---
# inSileco

<!-- LAST SLIDE -->

- inSileco https://insilecoinc.github.io/
- David Beauchesne [`r rfa("envelope")`](mailto:david.beauchesne@hotmail.com)
- Kevin Cazelles [`r rfa("envelope")`](mailto:kevin.cazelles@gmail.com)

